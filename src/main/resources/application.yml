spring:
  file:
    upload-dir: uploads  # 업로드한 파일을 저장할 경로 (상대 경로 기준)

  servlet:
    multipart:
      enabled: true              # Multipart 파일 업로드 기능 활성화
      max-file-size: 10MB        # 개별 파일 최대 크기
      max-request-size: 10MB     # 전체 요청 최대 크기
      location: ./uploads        # 임시 파일 저장 경로 (업로드 시 파일 임시 저장)

  h2:
    console:
      enabled: true              # H2 콘솔 사용 가능
      path: /h2-console          # H2 콘솔 접속 경로 설정

  datasource:
    url: jdbc:mysql://127.0.0.1:3306/readmate?useSSL=false&serverTimezone=Asia/Seoul&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root   # MySQL 실제 계정으로 변경
    password: 1234  # MySQL 실제 비밀번호로 변경

  jpa:
    hibernate:
      ddl-auto: update           # 테이블 자동 생성 및 수정 (실행 시점)
    show-sql: true               # 콘솔에 SQL 쿼리 출력
    properties:
      hibernate:
        format_sql: true         # SQL 예쁘게 출력 (가독성 ↑)
        jdbc.time_zone: "Asia/Seoul"   # DB ↔ JPA 시간대 일치
        dialect: org.hibernate.dialect.MySQLDialect # Explicitly set MySQL Dialect

  sql:
    init:
      mode: never                        # 서버 시작 시 SQL 스크립트 실행 모드
      encoding: UTF-8                    # SQL 파일 인코딩
      defer-datasource-initialization: false # 데이터베이스 초기화 지연하지 않음

  web:
    resources:
      static-locations: file:./uploads/     # 업로드된 파일을 정적 리소스로 서빙

  codec:
    max-in-memory-size: 10MB      # WebClient가 큰 JSON(알라딘/구글북스) 받을 때 버퍼 용량

  jackson:
    time-zone: "Asia/Seoul"           # JSON 직렬화 시간대
# ======== JWT 설정 ========
jwt:
  secret: "ThisIsASecretKeyForJWTGeneration_ChangeThisToYourOwnSecret"
  expiration: 86400000   # 1일(밀리초 단위)

# ======== 외부 API 키/엔드포인트 ========
gemini:
  api-version: v1
  model: gemini-2.0-flash    # 또는 gemini-1.5-flash-latest
  api-key: ${GEMINI_API_KEY:}

aladin:
  ttb-key: "ttbzcbm19110945001"
  base-url: "https://www.aladin.co.kr/ttb/api/ItemList.aspx"

googlebooks:
  api-key: "AIzaSyD8CJbNQX3AialFRwia9TcwPqDY1fWuPjU"
  base-url: "https://www.googleapis.com/books/v1/volumes"
# ======== 로깅 설정 ========
logging:
  level:
    org.springframework.security: DEBUG

readmate:
  novel-reclassify:
    enabled: true